/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (() => {

eval("const flipButton = document.querySelector('#flip-button');\nconst optionContainer = document.querySelector('.option-container');\nconst gamesBoardContainer = document.querySelector('#gamesboard-container');\nconst startButton = document.querySelector('#start-button');\nconst infoDisplay = document.querySelector('#info');\nconst width = 10;\n\nlet angle = 0;\nfunction flip() {\n  const optionShips = Array.from(optionContainer.children);\n  angle = angle === 0 ? 90 : 0;\n  optionShips.forEach((optionShip) => {\n    optionShip.style.transform = `rotate(${angle}deg)`;\n  });\n}\nflipButton.addEventListener('click', flip);\n\nfunction createBoard(color, user) {\n  const gameBoardContainer = document.createElement('div');\n  gameBoardContainer.classList.add('game-board');\n  gameBoardContainer.style.backgroundColor = color;\n  gameBoardContainer.id = user;\n\n  for (let i = 0; i < width * width; i += 1) {\n    const block = document.createElement('div');\n    block.classList.add('block');\n    block.id = i;\n    gameBoardContainer.append(block);\n  }\n\n  gamesBoardContainer.append(gameBoardContainer);\n}\n\ncreateBoard('transparent', 'player');\ncreateBoard('transparent', 'computer');\n\nclass Ship {\n  constructor(name, length) {\n    this.name = name;\n    this.length = length;\n  }\n}\n\nconst destroyer = new Ship('destroyer', 2);\nconst submarine = new Ship('submarine', 3);\nconst cruiser = new Ship('cruiser', 3);\nconst battleship = new Ship('battleship', 4);\nconst carrier = new Ship('carrier', 5);\n\nconst ships = [destroyer, submarine, cruiser, battleship, carrier];\nlet notDropped;\n\nfunction getValidity(allBoardBlocks, isHorizontal, startIndex, ship) {\n  const validStart = isHorizontal\n    ? startIndex <= width * width - ship.length\n      ? startIndex\n      : width * width - ship.length\n    : startIndex <= width * width - width * ship.length\n    ? startIndex\n    : startIndex - ship.length * width + width;\n\n  const shipBlocks = [];\n\n  for (let i = 0; i < ship.length; i += 1) {\n    if (isHorizontal) {\n      shipBlocks.push(allBoardBlocks[Number(validStart) + i]);\n    } else {\n      shipBlocks.push(allBoardBlocks[Number(validStart) + i * width]);\n    }\n  }\n\n  let valid;\n\n  if (isHorizontal) {\n    shipBlocks.every(\n      (_shipBlock, index) =>\n        (valid =\n          shipBlocks[0].id % width !==\n          width - (shipBlocks.length - (index + 1))),\n    );\n  } else {\n    shipBlocks.every(\n      (_shipBlock, index) =>\n        (valid = shipBlocks[0].id < 90 + (width * index + 1)),\n    );\n  }\n  const notTaken = shipBlocks.every(\n    (shipBlock) => !shipBlock.classList.contains('taken'),\n  );\n\n  return { shipBlocks, valid, notTaken };\n}\n\nfunction addShipPiece(user, ship, startId) {\n  const allBoardBlocks = document.querySelectorAll(`#${user} div`);\n  const randomBoolean = Math.random() < 0.5;\n  const isHorizontal = user === 'player' ? angle === 0 : randomBoolean;\n  const randomStartIndex = Math.floor(Math.random() * (width * width));\n\n  const startIndex = startId || randomStartIndex;\n\n  const { shipBlocks, valid, notTaken } = getValidity(\n    allBoardBlocks,\n    isHorizontal,\n    startIndex,\n    ship,\n  );\n\n  if (valid && notTaken) {\n    shipBlocks.forEach((shipBlock) => {\n      shipBlock.classList.add(ship.name);\n      shipBlock.classList.add('taken');\n    });\n  } else {\n    if (user === 'computer') addShipPiece(user, ship, startId);\n    if (user === 'player') notDropped = true;\n  }\n}\n\nfunction addRandomShipPiece(user, ship, startId) {\n  const allBoardBlocks = document.querySelectorAll(`#${user} div`);\n  const randomBoolean = Math.random() < 0.5;\n  const isHorizontal = randomBoolean;\n  const randomStartIndex = Math.floor(Math.random() * (width * width));\n\n  const startIndex = startId || randomStartIndex;\n\n  const { shipBlocks, valid, notTaken } = getValidity(\n    allBoardBlocks,\n    isHorizontal,\n    startIndex,\n    ship,\n  );\n\n  if (valid && notTaken) {\n    shipBlocks.forEach((shipBlock) => {\n      shipBlock.classList.add(ship.name);\n      shipBlock.classList.add('taken');\n    });\n  } else {\n    addRandomShipPiece(user, ship, startId);\n  }\n}\n\nships.forEach((ship) => {\n  addShipPiece('computer', ship);\n});\n\nlet draggedShip;\nconst allPlayerBlocks = document.querySelectorAll('#player div');\nconst optionShips = Array.from(optionContainer.children);\nconst random = document.querySelector('#randomize-button');\n\nrandom.addEventListener('click', () => {\n  if (document.querySelector('.option-container')) {\n    document.querySelector('.option-container').remove();\n  }\n  document.querySelector('#player').remove();\n  createBoard('transparent', 'player');\n  ships.forEach((ship) => {\n    addRandomShipPiece('player', ship);\n  });\n});\n\nfunction dragstart(e) {\n  notDropped = false;\n  draggedShip = e.target;\n}\n\nfunction dragover(e) {\n  e.preventDefault();\n  const ship = ships[draggedShip.id];\n  highlightArea(e.target.id, ship);\n}\n\nfunction dropShip(e) {\n  const startId = e.target.id;\n  const ship = ships[draggedShip.id];\n  addShipPiece('player', ship, startId);\n  if (!notDropped) {\n    draggedShip.remove();\n  }\n  if (optionContainer.children.length === 0) {\n    document.querySelector('.option-container').remove();\n  }\n}\n\nallPlayerBlocks.forEach((playerBlock) => {\n  playerBlock.addEventListener('dragover', dragover);\n  playerBlock.addEventListener('drop', dropShip);\n});\n\noptionShips.forEach((optionShip) =>\n  optionShip.addEventListener('dragstart', dragstart),\n);\n\nfunction highlightArea(startIndex, ship) {\n  const allBoardBlocks = document.querySelectorAll('#player div');\n  const isHorizontal = angle === 0;\n\n  const { shipBlocks, valid, notTaken } = getValidity(\n    allBoardBlocks,\n    isHorizontal,\n    startIndex,\n    ship,\n  );\n\n  if (valid && notTaken) {\n    shipBlocks.forEach((shipBlock) => {\n      shipBlock.classList.add('hover');\n      setTimeout(() => shipBlock.classList.remove('hover'), 500);\n    });\n  }\n}\n\nlet gameOver = false;\nlet playerTurn;\nlet playerHits = [];\nlet computerHits = [];\nconst playerSunkShips = [];\nconst computerSunkShips = [];\n\nfunction checkScore(user, userHits, userSunkShips) {\n  function checkShip(shipName, shipLength) {\n    if (\n      userHits.filter((storedShipName) => storedShipName === shipName)\n        .length === shipLength\n    ) {\n      if (user === 'player') {\n        playerHits = userHits.filter(\n          (storedShipName) => storedShipName !== shipName,\n        );\n      }\n      if (user === 'computer') {\n        computerHits = userHits.filter(\n          (storedShipName) => storedShipName !== shipName,\n        );\n      }\n      userSunkShips.push(shipName);\n    }\n  }\n\n  checkShip('destroyer', 2);\n  checkShip('submarine', 3);\n  checkShip('cruiser', 3);\n  checkShip('battleship', 4);\n  checkShip('carrier', 5);\n\n  if (playerSunkShips.length === 5) {\n    infoDisplay.textContent = 'You WON!';\n    gameOver = true;\n  }\n  if (computerSunkShips.length === 5) {\n    infoDisplay.textContent = 'Opponent WON!';\n    gameOver = true;\n  }\n}\n\nfunction computerGo() {\n  if (!gameOver) {\n    infoDisplay.textContent = \"Opponent's turn, please wait.\";\n    setTimeout(() => {\n      const randomGo = Math.floor(Math.random() * width * width);\n      const allBoardBlocks = document.querySelectorAll('#player div');\n      if (\n        allBoardBlocks[randomGo].classList.contains('taken') &&\n        allBoardBlocks[randomGo].classList.contains('boom')\n      ) {\n        computerGo();\n      } else if (\n        allBoardBlocks[randomGo].classList.contains('taken') &&\n        !allBoardBlocks[randomGo].classList.contains('boom')\n      ) {\n        allBoardBlocks[randomGo].classList.add('boom');\n        let classes = Array.from(allBoardBlocks[randomGo].classList);\n        classes = classes.filter((className) => className !== 'block');\n        classes = classes.filter((className) => className !== 'boom');\n        classes = classes.filter((className) => className !== 'taken');\n        computerHits.push(...classes);\n        checkScore('computer', computerHits, computerSunkShips);\n      } else {\n        allBoardBlocks[randomGo].classList.add('empty');\n      }\n    }, 500);\n\n    setTimeout(() => {\n      playerTurn = true;\n      infoDisplay.textContent = 'Your turn.';\n      const allBoardBlocks = document.querySelectorAll('#computer div');\n      allBoardBlocks.forEach((block) =>\n        block.addEventListener('click', handleClick),\n      );\n    }, 1000);\n  }\n}\n\nfunction handleClick(e) {\n  if (!gameOver) {\n    if (e.target.classList.contains('taken')) {\n      e.target.classList.add('boom');\n      let classes = Array.from(e.target.classList);\n      classes = classes.filter((className) => className !== 'block');\n      classes = classes.filter((className) => className !== 'boom');\n      classes = classes.filter((className) => className !== 'taken');\n      playerHits.push(...classes);\n      checkScore('player', playerHits, playerSunkShips);\n    }\n    if (!e.target.classList.contains('taken')) {\n      e.target.classList.add('empty');\n    }\n    playerTurn = false;\n    const allBoardBlocks = document.querySelectorAll('#computer div');\n    allBoardBlocks.forEach((block) => block.replaceWith(block.cloneNode(true)));\n    setTimeout(computerGo, 500);\n  }\n}\n\nfunction startGame() {\n  if (playerTurn === undefined) {\n    if (\n      optionContainer.children.length !== 0 &&\n      document.querySelector('.option-container') !== null\n    ) {\n      infoDisplay.textContent = 'Place the ships.';\n    } else {\n      document.querySelector('#buttons').style.visibility = 'hidden';\n      const allBoardBlocks = document.querySelectorAll('#computer div');\n      allBoardBlocks.forEach((block) =>\n        block.addEventListener('click', handleClick),\n      );\n      playerTurn = true;\n      infoDisplay.textContent = 'The game has started, your turn.';\n    }\n  }\n}\n\nstartButton.addEventListener('click', startGame);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZmxpcEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbGlwLWJ1dHRvbicpO1xuY29uc3Qgb3B0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9wdGlvbi1jb250YWluZXInKTtcbmNvbnN0IGdhbWVzQm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZXNib2FyZC1jb250YWluZXInKTtcbmNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0LWJ1dHRvbicpO1xuY29uc3QgaW5mb0Rpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5mbycpO1xuY29uc3Qgd2lkdGggPSAxMDtcblxubGV0IGFuZ2xlID0gMDtcbmZ1bmN0aW9uIGZsaXAoKSB7XG4gIGNvbnN0IG9wdGlvblNoaXBzID0gQXJyYXkuZnJvbShvcHRpb25Db250YWluZXIuY2hpbGRyZW4pO1xuICBhbmdsZSA9IGFuZ2xlID09PSAwID8gOTAgOiAwO1xuICBvcHRpb25TaGlwcy5mb3JFYWNoKChvcHRpb25TaGlwKSA9PiB7XG4gICAgb3B0aW9uU2hpcC5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKCR7YW5nbGV9ZGVnKWA7XG4gIH0pO1xufVxuZmxpcEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZsaXApO1xuXG5mdW5jdGlvbiBjcmVhdGVCb2FyZChjb2xvciwgdXNlcikge1xuICBjb25zdCBnYW1lQm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZ2FtZUJvYXJkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2dhbWUtYm9hcmQnKTtcbiAgZ2FtZUJvYXJkQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICBnYW1lQm9hcmRDb250YWluZXIuaWQgPSB1c2VyO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd2lkdGggKiB3aWR0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBibG9jay5jbGFzc0xpc3QuYWRkKCdibG9jaycpO1xuICAgIGJsb2NrLmlkID0gaTtcbiAgICBnYW1lQm9hcmRDb250YWluZXIuYXBwZW5kKGJsb2NrKTtcbiAgfVxuXG4gIGdhbWVzQm9hcmRDb250YWluZXIuYXBwZW5kKGdhbWVCb2FyZENvbnRhaW5lcik7XG59XG5cbmNyZWF0ZUJvYXJkKCd0cmFuc3BhcmVudCcsICdwbGF5ZXInKTtcbmNyZWF0ZUJvYXJkKCd0cmFuc3BhcmVudCcsICdjb21wdXRlcicpO1xuXG5jbGFzcyBTaGlwIHtcbiAgY29uc3RydWN0b3IobmFtZSwgbGVuZ3RoKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgfVxufVxuXG5jb25zdCBkZXN0cm95ZXIgPSBuZXcgU2hpcCgnZGVzdHJveWVyJywgMik7XG5jb25zdCBzdWJtYXJpbmUgPSBuZXcgU2hpcCgnc3VibWFyaW5lJywgMyk7XG5jb25zdCBjcnVpc2VyID0gbmV3IFNoaXAoJ2NydWlzZXInLCAzKTtcbmNvbnN0IGJhdHRsZXNoaXAgPSBuZXcgU2hpcCgnYmF0dGxlc2hpcCcsIDQpO1xuY29uc3QgY2FycmllciA9IG5ldyBTaGlwKCdjYXJyaWVyJywgNSk7XG5cbmNvbnN0IHNoaXBzID0gW2Rlc3Ryb3llciwgc3VibWFyaW5lLCBjcnVpc2VyLCBiYXR0bGVzaGlwLCBjYXJyaWVyXTtcbmxldCBub3REcm9wcGVkO1xuXG5mdW5jdGlvbiBnZXRWYWxpZGl0eShhbGxCb2FyZEJsb2NrcywgaXNIb3Jpem9udGFsLCBzdGFydEluZGV4LCBzaGlwKSB7XG4gIGNvbnN0IHZhbGlkU3RhcnQgPSBpc0hvcml6b250YWxcbiAgICA/IHN0YXJ0SW5kZXggPD0gd2lkdGggKiB3aWR0aCAtIHNoaXAubGVuZ3RoXG4gICAgICA/IHN0YXJ0SW5kZXhcbiAgICAgIDogd2lkdGggKiB3aWR0aCAtIHNoaXAubGVuZ3RoXG4gICAgOiBzdGFydEluZGV4IDw9IHdpZHRoICogd2lkdGggLSB3aWR0aCAqIHNoaXAubGVuZ3RoXG4gICAgPyBzdGFydEluZGV4XG4gICAgOiBzdGFydEluZGV4IC0gc2hpcC5sZW5ndGggKiB3aWR0aCArIHdpZHRoO1xuXG4gIGNvbnN0IHNoaXBCbG9ja3MgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICBzaGlwQmxvY2tzLnB1c2goYWxsQm9hcmRCbG9ja3NbTnVtYmVyKHZhbGlkU3RhcnQpICsgaV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaGlwQmxvY2tzLnB1c2goYWxsQm9hcmRCbG9ja3NbTnVtYmVyKHZhbGlkU3RhcnQpICsgaSAqIHdpZHRoXSk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHZhbGlkO1xuXG4gIGlmIChpc0hvcml6b250YWwpIHtcbiAgICBzaGlwQmxvY2tzLmV2ZXJ5KFxuICAgICAgKF9zaGlwQmxvY2ssIGluZGV4KSA9PlxuICAgICAgICAodmFsaWQgPVxuICAgICAgICAgIHNoaXBCbG9ja3NbMF0uaWQgJSB3aWR0aCAhPT1cbiAgICAgICAgICB3aWR0aCAtIChzaGlwQmxvY2tzLmxlbmd0aCAtIChpbmRleCArIDEpKSksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBzaGlwQmxvY2tzLmV2ZXJ5KFxuICAgICAgKF9zaGlwQmxvY2ssIGluZGV4KSA9PlxuICAgICAgICAodmFsaWQgPSBzaGlwQmxvY2tzWzBdLmlkIDwgOTAgKyAod2lkdGggKiBpbmRleCArIDEpKSxcbiAgICApO1xuICB9XG4gIGNvbnN0IG5vdFRha2VuID0gc2hpcEJsb2Nrcy5ldmVyeShcbiAgICAoc2hpcEJsb2NrKSA9PiAhc2hpcEJsb2NrLmNsYXNzTGlzdC5jb250YWlucygndGFrZW4nKSxcbiAgKTtcblxuICByZXR1cm4geyBzaGlwQmxvY2tzLCB2YWxpZCwgbm90VGFrZW4gfTtcbn1cblxuZnVuY3Rpb24gYWRkU2hpcFBpZWNlKHVzZXIsIHNoaXAsIHN0YXJ0SWQpIHtcbiAgY29uc3QgYWxsQm9hcmRCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAjJHt1c2VyfSBkaXZgKTtcbiAgY29uc3QgcmFuZG9tQm9vbGVhbiA9IE1hdGgucmFuZG9tKCkgPCAwLjU7XG4gIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHVzZXIgPT09ICdwbGF5ZXInID8gYW5nbGUgPT09IDAgOiByYW5kb21Cb29sZWFuO1xuICBjb25zdCByYW5kb21TdGFydEluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHdpZHRoICogd2lkdGgpKTtcblxuICBjb25zdCBzdGFydEluZGV4ID0gc3RhcnRJZCB8fCByYW5kb21TdGFydEluZGV4O1xuXG4gIGNvbnN0IHsgc2hpcEJsb2NrcywgdmFsaWQsIG5vdFRha2VuIH0gPSBnZXRWYWxpZGl0eShcbiAgICBhbGxCb2FyZEJsb2NrcyxcbiAgICBpc0hvcml6b250YWwsXG4gICAgc3RhcnRJbmRleCxcbiAgICBzaGlwLFxuICApO1xuXG4gIGlmICh2YWxpZCAmJiBub3RUYWtlbikge1xuICAgIHNoaXBCbG9ja3MuZm9yRWFjaCgoc2hpcEJsb2NrKSA9PiB7XG4gICAgICBzaGlwQmxvY2suY2xhc3NMaXN0LmFkZChzaGlwLm5hbWUpO1xuICAgICAgc2hpcEJsb2NrLmNsYXNzTGlzdC5hZGQoJ3Rha2VuJyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHVzZXIgPT09ICdjb21wdXRlcicpIGFkZFNoaXBQaWVjZSh1c2VyLCBzaGlwLCBzdGFydElkKTtcbiAgICBpZiAodXNlciA9PT0gJ3BsYXllcicpIG5vdERyb3BwZWQgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZFJhbmRvbVNoaXBQaWVjZSh1c2VyLCBzaGlwLCBzdGFydElkKSB7XG4gIGNvbnN0IGFsbEJvYXJkQmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgIyR7dXNlcn0gZGl2YCk7XG4gIGNvbnN0IHJhbmRvbUJvb2xlYW4gPSBNYXRoLnJhbmRvbSgpIDwgMC41O1xuICBjb25zdCBpc0hvcml6b250YWwgPSByYW5kb21Cb29sZWFuO1xuICBjb25zdCByYW5kb21TdGFydEluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHdpZHRoICogd2lkdGgpKTtcblxuICBjb25zdCBzdGFydEluZGV4ID0gc3RhcnRJZCB8fCByYW5kb21TdGFydEluZGV4O1xuXG4gIGNvbnN0IHsgc2hpcEJsb2NrcywgdmFsaWQsIG5vdFRha2VuIH0gPSBnZXRWYWxpZGl0eShcbiAgICBhbGxCb2FyZEJsb2NrcyxcbiAgICBpc0hvcml6b250YWwsXG4gICAgc3RhcnRJbmRleCxcbiAgICBzaGlwLFxuICApO1xuXG4gIGlmICh2YWxpZCAmJiBub3RUYWtlbikge1xuICAgIHNoaXBCbG9ja3MuZm9yRWFjaCgoc2hpcEJsb2NrKSA9PiB7XG4gICAgICBzaGlwQmxvY2suY2xhc3NMaXN0LmFkZChzaGlwLm5hbWUpO1xuICAgICAgc2hpcEJsb2NrLmNsYXNzTGlzdC5hZGQoJ3Rha2VuJyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYWRkUmFuZG9tU2hpcFBpZWNlKHVzZXIsIHNoaXAsIHN0YXJ0SWQpO1xuICB9XG59XG5cbnNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcbiAgYWRkU2hpcFBpZWNlKCdjb21wdXRlcicsIHNoaXApO1xufSk7XG5cbmxldCBkcmFnZ2VkU2hpcDtcbmNvbnN0IGFsbFBsYXllckJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNwbGF5ZXIgZGl2Jyk7XG5jb25zdCBvcHRpb25TaGlwcyA9IEFycmF5LmZyb20ob3B0aW9uQ29udGFpbmVyLmNoaWxkcmVuKTtcbmNvbnN0IHJhbmRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyYW5kb21pemUtYnV0dG9uJyk7XG5cbnJhbmRvbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb24tY29udGFpbmVyJykpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3B0aW9uLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xuICB9XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5ZXInKS5yZW1vdmUoKTtcbiAgY3JlYXRlQm9hcmQoJ3RyYW5zcGFyZW50JywgJ3BsYXllcicpO1xuICBzaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgYWRkUmFuZG9tU2hpcFBpZWNlKCdwbGF5ZXInLCBzaGlwKTtcbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gZHJhZ3N0YXJ0KGUpIHtcbiAgbm90RHJvcHBlZCA9IGZhbHNlO1xuICBkcmFnZ2VkU2hpcCA9IGUudGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBkcmFnb3ZlcihlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3Qgc2hpcCA9IHNoaXBzW2RyYWdnZWRTaGlwLmlkXTtcbiAgaGlnaGxpZ2h0QXJlYShlLnRhcmdldC5pZCwgc2hpcCk7XG59XG5cbmZ1bmN0aW9uIGRyb3BTaGlwKGUpIHtcbiAgY29uc3Qgc3RhcnRJZCA9IGUudGFyZ2V0LmlkO1xuICBjb25zdCBzaGlwID0gc2hpcHNbZHJhZ2dlZFNoaXAuaWRdO1xuICBhZGRTaGlwUGllY2UoJ3BsYXllcicsIHNoaXAsIHN0YXJ0SWQpO1xuICBpZiAoIW5vdERyb3BwZWQpIHtcbiAgICBkcmFnZ2VkU2hpcC5yZW1vdmUoKTtcbiAgfVxuICBpZiAob3B0aW9uQ29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb24tY29udGFpbmVyJykucmVtb3ZlKCk7XG4gIH1cbn1cblxuYWxsUGxheWVyQmxvY2tzLmZvckVhY2goKHBsYXllckJsb2NrKSA9PiB7XG4gIHBsYXllckJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZHJhZ292ZXIpO1xuICBwbGF5ZXJCbG9jay5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZHJvcFNoaXApO1xufSk7XG5cbm9wdGlvblNoaXBzLmZvckVhY2goKG9wdGlvblNoaXApID0+XG4gIG9wdGlvblNoaXAuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZHJhZ3N0YXJ0KSxcbik7XG5cbmZ1bmN0aW9uIGhpZ2hsaWdodEFyZWEoc3RhcnRJbmRleCwgc2hpcCkge1xuICBjb25zdCBhbGxCb2FyZEJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNwbGF5ZXIgZGl2Jyk7XG4gIGNvbnN0IGlzSG9yaXpvbnRhbCA9IGFuZ2xlID09PSAwO1xuXG4gIGNvbnN0IHsgc2hpcEJsb2NrcywgdmFsaWQsIG5vdFRha2VuIH0gPSBnZXRWYWxpZGl0eShcbiAgICBhbGxCb2FyZEJsb2NrcyxcbiAgICBpc0hvcml6b250YWwsXG4gICAgc3RhcnRJbmRleCxcbiAgICBzaGlwLFxuICApO1xuXG4gIGlmICh2YWxpZCAmJiBub3RUYWtlbikge1xuICAgIHNoaXBCbG9ja3MuZm9yRWFjaCgoc2hpcEJsb2NrKSA9PiB7XG4gICAgICBzaGlwQmxvY2suY2xhc3NMaXN0LmFkZCgnaG92ZXInKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2hpcEJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyJyksIDUwMCk7XG4gICAgfSk7XG4gIH1cbn1cblxubGV0IGdhbWVPdmVyID0gZmFsc2U7XG5sZXQgcGxheWVyVHVybjtcbmxldCBwbGF5ZXJIaXRzID0gW107XG5sZXQgY29tcHV0ZXJIaXRzID0gW107XG5jb25zdCBwbGF5ZXJTdW5rU2hpcHMgPSBbXTtcbmNvbnN0IGNvbXB1dGVyU3Vua1NoaXBzID0gW107XG5cbmZ1bmN0aW9uIGNoZWNrU2NvcmUodXNlciwgdXNlckhpdHMsIHVzZXJTdW5rU2hpcHMpIHtcbiAgZnVuY3Rpb24gY2hlY2tTaGlwKHNoaXBOYW1lLCBzaGlwTGVuZ3RoKSB7XG4gICAgaWYgKFxuICAgICAgdXNlckhpdHMuZmlsdGVyKChzdG9yZWRTaGlwTmFtZSkgPT4gc3RvcmVkU2hpcE5hbWUgPT09IHNoaXBOYW1lKVxuICAgICAgICAubGVuZ3RoID09PSBzaGlwTGVuZ3RoXG4gICAgKSB7XG4gICAgICBpZiAodXNlciA9PT0gJ3BsYXllcicpIHtcbiAgICAgICAgcGxheWVySGl0cyA9IHVzZXJIaXRzLmZpbHRlcihcbiAgICAgICAgICAoc3RvcmVkU2hpcE5hbWUpID0+IHN0b3JlZFNoaXBOYW1lICE9PSBzaGlwTmFtZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh1c2VyID09PSAnY29tcHV0ZXInKSB7XG4gICAgICAgIGNvbXB1dGVySGl0cyA9IHVzZXJIaXRzLmZpbHRlcihcbiAgICAgICAgICAoc3RvcmVkU2hpcE5hbWUpID0+IHN0b3JlZFNoaXBOYW1lICE9PSBzaGlwTmFtZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHVzZXJTdW5rU2hpcHMucHVzaChzaGlwTmFtZSk7XG4gICAgfVxuICB9XG5cbiAgY2hlY2tTaGlwKCdkZXN0cm95ZXInLCAyKTtcbiAgY2hlY2tTaGlwKCdzdWJtYXJpbmUnLCAzKTtcbiAgY2hlY2tTaGlwKCdjcnVpc2VyJywgMyk7XG4gIGNoZWNrU2hpcCgnYmF0dGxlc2hpcCcsIDQpO1xuICBjaGVja1NoaXAoJ2NhcnJpZXInLCA1KTtcblxuICBpZiAocGxheWVyU3Vua1NoaXBzLmxlbmd0aCA9PT0gNSkge1xuICAgIGluZm9EaXNwbGF5LnRleHRDb250ZW50ID0gJ1lvdSBXT04hJztcbiAgICBnYW1lT3ZlciA9IHRydWU7XG4gIH1cbiAgaWYgKGNvbXB1dGVyU3Vua1NoaXBzLmxlbmd0aCA9PT0gNSkge1xuICAgIGluZm9EaXNwbGF5LnRleHRDb250ZW50ID0gJ09wcG9uZW50IFdPTiEnO1xuICAgIGdhbWVPdmVyID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlckdvKCkge1xuICBpZiAoIWdhbWVPdmVyKSB7XG4gICAgaW5mb0Rpc3BsYXkudGV4dENvbnRlbnQgPSBcIk9wcG9uZW50J3MgdHVybiwgcGxlYXNlIHdhaXQuXCI7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCByYW5kb21HbyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHdpZHRoICogd2lkdGgpO1xuICAgICAgY29uc3QgYWxsQm9hcmRCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcGxheWVyIGRpdicpO1xuICAgICAgaWYgKFxuICAgICAgICBhbGxCb2FyZEJsb2Nrc1tyYW5kb21Hb10uY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWtlbicpICYmXG4gICAgICAgIGFsbEJvYXJkQmxvY2tzW3JhbmRvbUdvXS5jbGFzc0xpc3QuY29udGFpbnMoJ2Jvb20nKVxuICAgICAgKSB7XG4gICAgICAgIGNvbXB1dGVyR28oKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGFsbEJvYXJkQmxvY2tzW3JhbmRvbUdvXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Rha2VuJykgJiZcbiAgICAgICAgIWFsbEJvYXJkQmxvY2tzW3JhbmRvbUdvXS5jbGFzc0xpc3QuY29udGFpbnMoJ2Jvb20nKVxuICAgICAgKSB7XG4gICAgICAgIGFsbEJvYXJkQmxvY2tzW3JhbmRvbUdvXS5jbGFzc0xpc3QuYWRkKCdib29tJyk7XG4gICAgICAgIGxldCBjbGFzc2VzID0gQXJyYXkuZnJvbShhbGxCb2FyZEJsb2Nrc1tyYW5kb21Hb10uY2xhc3NMaXN0KTtcbiAgICAgICAgY2xhc3NlcyA9IGNsYXNzZXMuZmlsdGVyKChjbGFzc05hbWUpID0+IGNsYXNzTmFtZSAhPT0gJ2Jsb2NrJyk7XG4gICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWUgIT09ICdib29tJyk7XG4gICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWUgIT09ICd0YWtlbicpO1xuICAgICAgICBjb21wdXRlckhpdHMucHVzaCguLi5jbGFzc2VzKTtcbiAgICAgICAgY2hlY2tTY29yZSgnY29tcHV0ZXInLCBjb21wdXRlckhpdHMsIGNvbXB1dGVyU3Vua1NoaXBzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsbEJvYXJkQmxvY2tzW3JhbmRvbUdvXS5jbGFzc0xpc3QuYWRkKCdlbXB0eScpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHBsYXllclR1cm4gPSB0cnVlO1xuICAgICAgaW5mb0Rpc3BsYXkudGV4dENvbnRlbnQgPSAnWW91ciB0dXJuLic7XG4gICAgICBjb25zdCBhbGxCb2FyZEJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNjb21wdXRlciBkaXYnKTtcbiAgICAgIGFsbEJvYXJkQmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PlxuICAgICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKSxcbiAgICAgICk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSkge1xuICBpZiAoIWdhbWVPdmVyKSB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFrZW4nKSkge1xuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYm9vbScpO1xuICAgICAgbGV0IGNsYXNzZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmNsYXNzTGlzdCk7XG4gICAgICBjbGFzc2VzID0gY2xhc3Nlcy5maWx0ZXIoKGNsYXNzTmFtZSkgPT4gY2xhc3NOYW1lICE9PSAnYmxvY2snKTtcbiAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWUgIT09ICdib29tJyk7XG4gICAgICBjbGFzc2VzID0gY2xhc3Nlcy5maWx0ZXIoKGNsYXNzTmFtZSkgPT4gY2xhc3NOYW1lICE9PSAndGFrZW4nKTtcbiAgICAgIHBsYXllckhpdHMucHVzaCguLi5jbGFzc2VzKTtcbiAgICAgIGNoZWNrU2NvcmUoJ3BsYXllcicsIHBsYXllckhpdHMsIHBsYXllclN1bmtTaGlwcyk7XG4gICAgfVxuICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWtlbicpKSB7XG4gICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdlbXB0eScpO1xuICAgIH1cbiAgICBwbGF5ZXJUdXJuID0gZmFsc2U7XG4gICAgY29uc3QgYWxsQm9hcmRCbG9ja3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY29tcHV0ZXIgZGl2Jyk7XG4gICAgYWxsQm9hcmRCbG9ja3MuZm9yRWFjaCgoYmxvY2spID0+IGJsb2NrLnJlcGxhY2VXaXRoKGJsb2NrLmNsb25lTm9kZSh0cnVlKSkpO1xuICAgIHNldFRpbWVvdXQoY29tcHV0ZXJHbywgNTAwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydEdhbWUoKSB7XG4gIGlmIChwbGF5ZXJUdXJuID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoXG4gICAgICBvcHRpb25Db250YWluZXIuY2hpbGRyZW4ubGVuZ3RoICE9PSAwICYmXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3B0aW9uLWNvbnRhaW5lcicpICE9PSBudWxsXG4gICAgKSB7XG4gICAgICBpbmZvRGlzcGxheS50ZXh0Q29udGVudCA9ICdQbGFjZSB0aGUgc2hpcHMuJztcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J1dHRvbnMnKS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICBjb25zdCBhbGxCb2FyZEJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNjb21wdXRlciBkaXYnKTtcbiAgICAgIGFsbEJvYXJkQmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PlxuICAgICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKSxcbiAgICAgICk7XG4gICAgICBwbGF5ZXJUdXJuID0gdHJ1ZTtcbiAgICAgIGluZm9EaXNwbGF5LnRleHRDb250ZW50ID0gJ1RoZSBnYW1lIGhhcyBzdGFydGVkLCB5b3VyIHR1cm4uJztcbiAgICB9XG4gIH1cbn1cblxuc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydEdhbWUpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/index.js"]();
/******/ 	
/******/ })()
;